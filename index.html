<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="numberconversion.css">
    <title>Number Conversion</title>
</head>
<body>
    <header>NUMBER CONVERSION</header>
    <div class="calculator">
        <input type="text" id="display" disabled >
        <div class="buttons">
            <!-- Modify the existing number buttons to disable based on the mode -->
            <button onclick="appendToDisplay('1')" id="btn-1" disabled>1</button>
            <button onclick="appendToDisplay('0')" id="btn-0" disabled>0</button>
            <button onclick="appendToDisplay('2')" id="btn-2" disabled>2</button>
            <button onclick="setMode('binary')">Binary</button>
            <button onclick="appendToDisplay('3')" id="btn-3" disabled>3</button>
            <button onclick="appendToDisplay('4')" id="btn-4" disabled>4</button>
            <button onclick="appendToDisplay('5')" id="btn-5" disabled>5</button>
            <button onclick="setMode('decimal')">Decimal</button>
            <button onclick="appendToDisplay('6')" id="btn-6" disabled>6</button>
            <button onclick="appendToDisplay('7')" id="btn-7" disabled>7</button>
            <button onclick="appendToDisplay('8')" id="btn-8" disabled>8</button>
            <button onclick="setMode('octal')">Octal</button>
            <button onclick="appendToDisplay('9')" id="btn-9" disabled>9</button>
            <button onclick="appendToDisplay('A')" id="btn-A" disabled>A</button>
            <button onclick="appendToDisplay('B')" id="btn-B" disabled>B</button>
            <button onclick="setMode('hexadecimal')">Hexadecimal</button>
            <button onclick="appendToDisplay('C')" id="btn-C" disabled>C</button>
            <button onclick="appendToDisplay('D')" id="btn-D" disabled>D</button>
            <button onclick="appendToDisplay('E')" id="btn-E" disabled>E</button>
            <button onclick="clearDisplay()">C</button>
            <button onclick="appendToDisplay('F')" id="btn-F" disabled>F</button>
            <button onclick="calculate()">=</button>
        </div>
    </div>
    <script>
        let display = document.getElementById('display');
let expression = '';
let mode = 'decimal'; // Default mode

function setMode(newMode) {
    // Enable all buttons first
    enableAllButtons();

    // Update mode
    mode = newMode;

    // Disable buttons based on the selected mode
    if (mode === 'binary') {
        disableButtons(['btn-2', 'btn-3', 'btn-4', 'btn-5', 'btn-6', 'btn-7', 'btn-8', 'btn-9', 'btn-A', 'btn-B', 'btn-C', 'btn-D', 'btn-E', 'btn-F']);
    } else if (mode === 'decimal') {
        disableButtons (['btn-A', 'btn-B', 'btn-C', 'btn-D', 'btn-E', 'btn-F']);
    } else if (mode === 'octal') {
        disableButtons(['btn-8', 'btn-9', 'btn-A', 'btn-B', 'btn-C', 'btn-D', 'btn-E', 'btn-F']);
    } else if (mode === 'hexadecimal') {
        // No need to disable any buttons for hexadecimal
    }
}

function appendToDisplay(value) {
    expression += value;
    display.value = expression;
}

function clearDisplay() {
    expression = '';
    display.value = '';
}

function calculate() {
    try {
        // Parse the expression based on the selected mode
        let result;
        if (mode === 'binary') {
            result = parseInt(expression, 2);
        } else if (mode === 'decimal') {
            result = parseInt(expression, 10);
        } else if (mode === 'octal') {
            result = parseInt(expression, 8);
        } else if (mode === 'hexadecimal') {
            result = parseInt(expression, 16);
        }

        display.value = result.toString(16).toUpperCase(); // Display result in hexadecimal
    } catch (error) {
        display.value = 'Error';
    }
}

function disableButtons(buttonIds) {
    // Disable specified buttons
    buttonIds.forEach(id => {
        document.getElementById(id).disabled = true;
    });
}

function enableAllButtons() {
    // Enable all buttons
    for (let i = 0; i <= 15; i++) {
        let hexButtonId = 'btn-' + i.toString(16).toUpperCase();
        document.getElementById(hexButtonId).disabled = false;
    }
}

function calculate() {
    try {
        let result;
        if (mode === 'binary') {
            result = parseInt(expression, 2);
            display.value = `HEX: ${result.toString(16).toUpperCase()}\n\n DEC: ${result.toString(10)}\n OCT: ${result.toString(8)}\n `;
        } else if (mode === 'decimal') {
            result = parseInt(expression, 10);
            display.value = `HEX: ${result.toString(16).toUpperCase()}\n\n OCT: ${result.toString(8)}\nBIN: ${result.toString(2)} \n`;
        } else if (mode === 'octal') {
            result = parseInt(expression, 8);
            display.value = `HEX: ${result.toString(16).toUpperCase()}\nDEC: ${result.toString(10)}\n\nBIN: ${result.toString(2)} \n`;
        } else if (mode === 'hexadecimal') {
            result = parseInt(expression, 16);
            display.value = `DEC: ${result.toString(10)}\nOCT: ${result.toString(8)}\nBIN: ${result.toString(2)} \n`;
        }
    } catch (error) {
        display.value = 'Error';
    }
}
 
    </script>
</body>
